#!/bin/bash

# This script makes files and directory names to kebab-case

renamed=0
skipped=0
for file in "$@"; do
	# convert camelCase to kebab-case
	new_name=$(echo "$file" | sed -E "s/([a-z0-9])([A-Z])/\\1-\\2/g")
	# convert spaces and underscores to hyphens,
	new_name=$(echo "$new_name" | sed 's/ \+/-/g' | sed 's/_\+/-/g' | sed 's/-\+/-/g')
	# convert to lowercase
	new_name=$(echo "$new_name" | tr '[:upper:]' '[:lower:]')

	# Check if the new name already exists
	if [ -e "$new_name" ]; then
		echo "Skipped: $file, $new_name already exists."
		((skipped += 1))
	else
		# Rename the file
		mv "$file" "$new_name"
		echo "Renamed: $file to $new_name"
		((renamed += 1))
	fi
done

echo "Renamed $renamed files"
echo "Skipped $skipped files"
